/*- (CGRect)getBGViewRect {

    CGFloat height = messageView.contentSize.height+whereBGViewStarts;
    
    CGFloat padding = 0;
    
    if (messageView.contentSize.height > messageView.frame.size.height) {
        height = messageView.frame.size.height+whereBGViewStarts;
    }
    
    // height is where the text ends (at this point)
    
    if (theImageView.hidden == NO) {
        if ((height+messageView.frame.origin.y-49-22) < (theImageView.frame.size.height+(theImageView.frame.origin.y-49-22))) {
            height = ((theImageView.frame.origin.y-49-22)+theImageView.frame.size.height);
        } else {
            if (linkButton.hidden == YES) {
                float numberToBeTested = (height+messageView.frame.origin.y-49-22)-(theImageView.frame.size.height+(theImageView.frame.origin.y-49-22));

                padding = -numberToBeTested+15;
            }
        }
    }
    
    if (linkButton.hidden == NO) {
        if ((height+messageView.frame.origin.y-49-22) < (linkButton.frame.size.height+(linkButton.frame.origin.y-49-22))) {
            height = ((linkButton.frame.origin.y-49-22)+linkButton.frame.size.height);
        } else {
            // come up with a number that doesn't require padding
            float numberToBeTested = (height+messageView.frame.origin.y-49-22)-(linkButton.frame.size.height+(linkButton.frame.origin.y-49-22));
            
            padding = -numberToBeTested+15;
        }
    }
    
    //if (height < messageView.contentSize.height) {
    //    height = messageView.contentSize.height;
    //}
    
    //if (messageView.contentSize.height > messageView.frame.size.height) { // fixes the really long bg view
    //    height = messageView.frame.size.height;
    //}
    
    float smaller = MIN(messageView.contentSize.height+betweenMessageViewAndStartOfBGView, messageView.frame.size.height+betweenMessageViewAndStartOfBGView);
    
    if (smaller > height) {
        height = smaller;
    }
    
    NSLog(@"EndPadding: %f",padding);
    NSLog(@"End height: %f",height);
    
    CGFloat maxHeight = 283;
    
    if (height > maxHeight) {
        height = maxHeight;
      //  messageView.frame = CGRectMake(messageView.frame.origin.x, messageView.frame.origin.y, messageView.frame.size.width, maxHeight-10);
    }
    
    height = height+padding;

    return CGRectMake(5, 49, 310, height);
}*/